---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const siteName = import.meta.env.PUBLIC_SITE_NAME ?? "PricingNest";
const entries = await getCollection("glossary");
const terms = entries
  .map((t) => ({ href: `/glossary/${t.slug}/`, title: t.data.title, description: t.data.description }))
  .sort((a, b) => a.title.localeCompare(b.title));
---
<BaseLayout title={`Glossary | ${siteName}`} description="Short definitions for the key SaaS pricing and unit economics terms used in the toolkit.">
  <section class="hero">
    <h1>Glossary</h1>
    <p>Quick definitions and links to the calculators and guides where each term shows up in practice.</p>
  </section>

  <div class="grid">
    <section class="card col8">
      <h2>Terms</h2>
      <div class="tools" style="margin-top: 0.9rem;">
        {terms.map((t) => (
          <a class="tool" href={t.href}>
            <strong>{t.title}</strong>
            <span>{t.description}</span>
          </a>
        ))}
      </div>
    </section>

    <aside class="card col4">
      <h2>Use the tools</h2>
      <ul class="list">
        <li><a href="/saas-pricing/">All calculators</a></li>
        <li><a href="/guides/">Guides</a></li>
        <li><a href="/saas-pricing/use-cases/">Use cases</a></li>
      </ul>
    </aside>
  </div>
</BaseLayout>
